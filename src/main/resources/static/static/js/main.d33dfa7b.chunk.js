(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(e,t,n){},155:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(27),r=n.n(s),i=(n(154),n(64)),l=n(113),o=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},j=n(237),d=n(44),u=n(106),b=n(244),h=n(138),O=n(38),x=n(49),m=n(238),p=n(235),f=n(236),g=n(245),y=n(242),S=n(243),v=n(246),w=n(247),I=n(248),k=n(249),C=n(250),A=n(251),T=(n(155),n(84)),E=n(241),F=n(239),N=n(240),L=n(143),P=function(e,t,n,c){c=c||"topRight",L.a[e]({message:t,description:n,placement:c})},D=function(e,t,n){return P("success",e,t,n)},B=function(e,t,n){return P("error",e,t,n)},M=n(7),J=T.a.Option;var R=function(e){var t=e.showDrawer,n=e.setShowDrawer,a=e.fetchStudents,s=function(){return n(!1)},r=Object(c.useState)(!1),j=Object(i.a)(r,2),d=j[0],u=j[1];return Object(M.jsx)(E.a,{title:"Create new student",width:500,onClose:s,visible:t,bodyStyle:{paddingBottom:80},footer:Object(M.jsx)("div",{style:{textAlign:"right"},children:Object(M.jsx)(O.a,{onClick:s,style:{marginRight:8},children:"Cancel"})}),children:Object(M.jsxs)(F.a,{layout:"vertical",onFinishFailed:function(e){alert(JSON.stringify(e,null,2))},onFinish:function(e){u(!0),console.log(JSON.stringify(e,null,2)),function(e){return Object(l.a)("api/v1/students",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(e)}).then(o)}(e).then((function(){console.log("added"),s(),D("Student successfully added","".concat(e.name," was added to the system")),a()})).catch((function(e){console.log(e),e.response.json().then((function(t){console.log(e),B("There was an issue","".concat(t.message," [").concat(t.status,"] [").concat(t.error,"]"),"bottomLeft")}))})).finally((function(){u(!1)}))},hideRequiredMark:!0,children:[Object(M.jsxs)(p.a,{gutter:16,children:[Object(M.jsx)(f.a,{span:12,children:Object(M.jsx)(F.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter student name"}],children:Object(M.jsx)(N.a,{placeholder:"Please enter student name"})})}),Object(M.jsx)(f.a,{span:12,children:Object(M.jsx)(F.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter student email"}],children:Object(M.jsx)(N.a,{placeholder:"Please enter student email"})})})]}),Object(M.jsx)(p.a,{gutter:16,children:Object(M.jsx)(f.a,{span:12,children:Object(M.jsx)(F.a.Item,{name:"gender",label:"gender",rules:[{required:!0,message:"Please select a gender"}],children:Object(M.jsxs)(T.a,{placeholder:"Please select a gender",children:[Object(M.jsx)(J,{value:"MALE",children:"MALE"}),Object(M.jsx)(J,{value:"FEMALE",children:"FEMALE"})]})})})}),Object(M.jsxs)(p.a,{gutter:16,children:[Object(M.jsx)(f.a,{span:12,children:Object(M.jsx)(F.a.Item,{children:Object(M.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})})}),Object(M.jsx)(f.a,{span:12,children:Object(M.jsx)(F.a.Item,{children:d&&Object(M.jsx)(h.a,{tip:""})})})]})]})})},U=n(115),q=j.a.Header,z=j.a.Content,H=j.a.Footer,G=j.a.Sider,K=d.a.SubMenu,Y=function(e){var t=e.name;if(0===t.trim().length)return Object(M.jsx)(U.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(M.jsx)(v.a,{})});if(1===t.split(" ").length)return Object(M.jsx)(U.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:t.charAt(0).toUpperCase()});var n=t.split(" ");return Object(M.jsx)(U.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},children:"".concat(t.charAt(0).toUpperCase()).concat(n[1].charAt(0).toUpperCase())})},Q=function(e,t){(function(e){return Object(l.a)("api/v1/students/".concat(e),{method:"DELETE"}).then(o)})(12).then((function(){D("Student deleted","".concat(e.name," was deleted")),t()})).catch((function(e){e.response.json().then((function(e){console.log(e),B("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"),"bottomLeft")}))}))},V=function(e){return[{title:"",dataIndex:"avatar",key:"avatar",render:function(e,t){return Object(M.jsx)(Y,{name:t.name})}},{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Action",key:"Action",render:function(t,n){return Object(M.jsxs)(u.a.Group,{children:[Object(M.jsx)(b.a,{placement:"topRight",title:"Are you sure to delete this ".concat(n.name,"?"),onConfirm:function(){return Q(n.id,e)},okText:"Yes",cancelText:"No",children:Object(M.jsx)(u.a.Button,{value:"small",type:"dashed",children:"Delete"})}),Object(M.jsx)(u.a.Button,{value:"small",type:"dashed",children:"Edit"})]})}}]};var W=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),u=r[0],b=r[1],T=Object(c.useState)(!1),E=Object(i.a)(T,2),F=E[0],N=E[1],L=Object(c.useState)(!1),P=Object(i.a)(L,2),D=P[0],B=P[1],J=function(){return Object(l.a)("api/v1/students").then(o).then((function(e){return e.json()})).then((function(e){console.log(e),a(e),N(!1)}))};return Object(c.useEffect)((function(){console.log("component is mounted"),J()}),[]),Object(M.jsxs)(j.a,{style:{minHeight:"100vh"},children:[Object(M.jsxs)(G,{collapsible:!0,collapsed:u,onCollapse:b,children:[Object(M.jsx)("div",{className:"logo"}),Object(M.jsxs)(d.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(M.jsx)(d.a.Item,{icon:Object(M.jsx)(I.a,{}),children:"Option 1"},"1"),Object(M.jsx)(d.a.Item,{icon:Object(M.jsx)(k.a,{}),children:"Option 2"},"2"),Object(M.jsxs)(K,{icon:Object(M.jsx)(v.a,{}),title:"User",children:[Object(M.jsx)(d.a.Item,{children:"Tom"},"3"),Object(M.jsx)(d.a.Item,{children:"Bill"},"4"),Object(M.jsx)(d.a.Item,{children:"Alex"},"5")]},"sub1"),Object(M.jsxs)(K,{icon:Object(M.jsx)(C.a,{}),title:"Team",children:[Object(M.jsx)(d.a.Item,{children:"Team 1"},"6"),Object(M.jsx)(d.a.Item,{children:"Team 2"},"8")]},"sub2"),Object(M.jsx)(d.a.Item,{icon:Object(M.jsx)(A.a,{}),children:"Files"},"9")]})]}),Object(M.jsxs)(j.a,{className:"site-layout",children:[Object(M.jsx)(q,{className:"site-layout-background",style:{padding:0}}),Object(M.jsxs)(z,{style:{margin:"0 16px"},children:[Object(M.jsxs)(S.a,{style:{margin:"16px 0"},children:[Object(M.jsx)(S.a.Item,{children:"User"}),Object(M.jsx)(S.a.Item,{children:"Bill"})]}),Object(M.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:F?Object(M.jsx)(h.a,{tip:"Loading..."}):n<=0?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(O.a,{onClick:function(){return B(!D)},type:"primary",shape:"round",icon:Object(M.jsx)(w.a,{}),size:"medium",children:"Add New Student"}),",",Object(M.jsx)(x.a,{}),Object(M.jsx)(R,{showDrawer:D,setShowDrawer:B,fetchStudents:J})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(R,{showDrawer:D,setShowDrawer:B,fetchStudents:J}),Object(M.jsx)(m.a,{dataSource:n,columns:V(J),bordered:!0,title:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(p.a,{gutter:16,children:[Object(M.jsxs)(f.a,{span:12,children:[Object(M.jsx)(O.a,{onClick:function(){return B(!D)},type:"primary",shape:"round",icon:Object(M.jsx)(w.a,{}),size:"medium",children:"Add New Student"}),","]}),Object(M.jsx)(f.a,{span:12,children:Object(M.jsxs)("div",{style:{textAlign:"right"},children:[Object(M.jsx)(g.a,{color:"gold",style:{marginTop:"5px"},children:"Number of Students"}),Object(M.jsx)(y.a,{count:n.length,className:"site-badge-count-4"})]})})]})})},pagination:{pageSize:50},scroll:{y:400},rowKey:function(e){return e.id}})]})})]}),Object(M.jsx)(H,{style:{textAlign:"center"},children:"Learn Fullstack Spring Boot & React"})]})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(W,{})}),document.getElementById("root")),X()}},[[232,1,2]]]);
//# sourceMappingURL=main.d33dfa7b.chunk.js.map